(this.webpackJsonpinstructed=this.webpackJsonpinstructed||[]).push([[0],{118:function(e,a,t){"use strict";t.r(a);var n=t(0),r=t.n(n),o=t(9),l=t.n(o),c=t(13),s=t(10),i=t(16),m=t.n(i),u=t(119),d=t(155),p=t(120),E=t(159),f=t(156),g=t(157),v=t(39),h=t(49),N=t(24),y=t(148);function b(e){var a=Object(n.useState)(e),t=Object(N.a)(a,2),r=t[0],o=t[1],l=Object(y.a)((function(e){return{root:{"& .MuiFormControl-root":{width:"75%",margin:e.spacing(1),display:"flex"}},paperContent:{margin:e.spacing(4),padding:e.spacing(2)},navbar:{margin:e.spacing(0)},title:{margin:e.spacing(1)},textFieldForm:{margin:e.spacing(1)},extraItemsForm:{margin:e.spacing(2)},links:{margin:e.spacing(1)}}}));return{values:r,setValues:o,handleInputChange:function(e){var a=e.target,t=a.name,n=a.value;o(Object(h.a)(Object(h.a)({},r),{},Object(v.a)({},t,n)))},useStyle:l}}var F=t(151),w=t(153),C=t(154),S=t(76),O=t(160),j=t(71),P=t.n(j),A={};function I(){var e=r.a.useState(null),a=Object(N.a)(e,2),t=a[0],n=a[1],o=Boolean(t),l=(0,b(A).useStyle)();return r.a.createElement(r.a.Fragment,null,r.a.createElement(F.a,{position:"static",className:l.navbar,color:"primary"},r.a.createElement(w.a,null,r.a.createElement(C.a,{edge:"start","aria-label":"menu",onClick:function(e){n(e.currentTarget)}},r.a.createElement(P.a,{style:{color:"#ffffff"}})),r.a.createElement(S.a,{anchorEl:t,keepMounted:!0,open:o,onClose:function(){n(null)},PaperProps:{style:{}}},r.a.createElement(O.a,{component:c.b,to:"/login"},"Login"),r.a.createElement(O.a,{component:c.b,to:"/registration"},"Create Account"),r.a.createElement(O.a,{component:c.b,to:"/forgotpassword"},"Forgot Password")),r.a.createElement(p.a,{variant:"h6",style:{color:"#ffffff"},className:l.title},"instructED"))))}var T=t(47),_=t.n(T);t(114).config();var D={email:"",password:""};function x(e){console.log(Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0}).FACEBOOK_CLIENT_ID);var a=b(D),t=a.values,n=a.handleInputChange,o=(0,a.useStyle)();return r.a.createElement(r.a.Fragment,null,r.a.createElement(I,null),r.a.createElement(u.a,{className:o.paperContent},r.a.createElement("form",{className:o.root},r.a.createElement(d.a,{container:!0,justify:"center"},r.a.createElement(p.a,{variant:"h2",color:"primary",className:o.extraItemsForm},"Login")),r.a.createElement(d.a,{container:!0,justify:"center"},r.a.createElement(E.a,{variant:"outlined",label:"Email",name:"email",value:t.email,onChange:n,className:o.textFieldForm}),r.a.createElement(E.a,{variant:"outlined",label:"Password",name:"password",type:"password",value:t.password,onChange:n,className:o.textFieldForm})),r.a.createElement(d.a,{container:!0,justify:"center"},r.a.createElement(f.a,{variant:"contained",size:"large",color:"primary",onClick:function(a){a.preventDefault(),m.a.post("/authenticate",t).then((function(a){200===a.status&&e.history.push("/duologin")})).catch((function(e){alert(e.response.data)}))},className:o.extraItemsForm},"Submit")),r.a.createElement(d.a,{container:!0,justify:"center"},r.a.createElement(_.a,{appId:Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0}).FACEBOOK_CLIENT_ID,autoLoad:!1,fields:"name,email,picture",callback:function(e){console.log(e)},className:o.extraItemsForm})),r.a.createElement(d.a,{container:!0,justify:"center"},r.a.createElement(g.a,{component:c.b,to:"/registration",variant:"body1",color:"primary",className:o.links},"Sign up for an account")),r.a.createElement(d.a,{container:!0,justify:"center"},r.a.createElement(g.a,{component:c.b,to:"/forgotpassword",variant:"body1",color:"primary",className:o.links},"Forgot password?")))))}var k={firstName:"",lastName:"",email:"",password:"",confirmPassword:""};function K(){var e=b(k),a=e.values,t=e.handleInputChange,n=(0,e.useStyle)();return r.a.createElement(r.a.Fragment,null,r.a.createElement(I,null),r.a.createElement(u.a,{className:n.paperContent},r.a.createElement("form",{className:n.root},r.a.createElement(d.a,{container:!0,justify:"center"},r.a.createElement(p.a,{variant:"h2",color:"primary",className:n.extraItemsForm},"Create Account")),r.a.createElement(d.a,{container:!0,justify:"center"},r.a.createElement(E.a,{variant:"outlined",label:"First Name",name:"firstName",value:a.firstName,onChange:t,className:n.textFieldForm}),r.a.createElement(E.a,{variant:"outlined",label:"Last Name",name:"lastName",value:a.lastName,onChange:t,className:n.textFieldForm}),r.a.createElement(E.a,{variant:"outlined",label:"Email",name:"email",value:a.email,onChange:t,className:n.textFieldForm}),r.a.createElement(E.a,{variant:"outlined",label:"Password",name:"password",type:"password",value:a.password,onChange:t,className:n.textFieldForm}),r.a.createElement(E.a,{variant:"outlined",label:"Confirm Password",name:"confirmPassword",type:"password",value:a.confirmPassword,onChange:t,className:n.textFieldForm})),r.a.createElement(d.a,{container:!0,justify:"center"},r.a.createElement(f.a,{variant:"contained",size:"large",color:"primary",onClick:function(e){e.preventDefault(),a.password!==a.confirmPassword?window.alert("Password is not the same"):m.a.post("/users",a)},className:n.extraItemsForm},"Submit")),r.a.createElement(d.a,{container:!0,justify:"center"},r.a.createElement(_.a,{appId:"350577486197278",autoLoad:!1,fields:"name,email,picture",callback:function(e){console.log("logged in: true");var a=e.userID;console.log(a);var t=e.name;console.log(t);var n=e.email;console.log(n)},className:n.extraItemsForm})),r.a.createElement(d.a,{container:!0,justify:"center"},r.a.createElement(g.a,{component:c.b,to:"/login",variant:"body1",color:"primary",className:n.links},"Already have an account?")),r.a.createElement(d.a,{container:!0,justify:"center"},r.a.createElement(g.a,{component:c.b,to:"/forgotpassword",variant:"body1",color:"primary",className:n.links},"Forgot password?")))))}var L={email:""};function H(){var e=b(L),a=e.values,t=e.handleInputChange,n=(0,e.useStyle)();return r.a.createElement(r.a.Fragment,null,r.a.createElement(I,null),r.a.createElement(u.a,{className:n.paperContent},r.a.createElement("form",{className:n.root},r.a.createElement(d.a,{container:!0,justify:"center"},r.a.createElement(p.a,{variant:"h2",color:"primary",className:n.extraItemsForm},"Forgot Password")),r.a.createElement(d.a,{container:!0,justify:"center"},r.a.createElement(E.a,{variant:"outlined",label:"Email",name:"email",value:a.email,onChange:t,className:n.textFieldForm})),r.a.createElement(d.a,{container:!0,justify:"center"},r.a.createElement(f.a,{variant:"contained",size:"large",color:"primary",onClick:function(e){e.preventDefault(),m.a.post("/forgotPassword",a).then((function(e){200===e.status&&alert(e.data)})).catch((function(e){alert(e.response.data)}))},className:n.extraItemsForm},"Submit")),r.a.createElement(d.a,{container:!0,justify:"center"},r.a.createElement(g.a,{component:c.b,to:"/login",variant:"body1",color:"primary",className:n.extraItemsForm},"Already have an account?")),r.a.createElement(d.a,{container:!0,justify:"center"},r.a.createElement(g.a,{component:c.b,to:"/registration",variant:"body1",color:"primary",className:n.extraItemsForm},"Sign up for an account")))))}var U={password:"",confirmPassword:""};function B(e){var a=b(U),t=a.values,o=a.handleInputChange,l=a.useStyle,c=Object(n.useState)(!1),s=Object(N.a)(c,2),i=s[0],g=s[1],v=l();return Object(n.useEffect)((function(){console.log("CHECKING TOKEN"),console.log(e.match.params.token),m.a.get("/resetPassword/".concat(e.match.params.token)).then((function(e){200===e.status&&(console.log("GOOD TOKEN"),g(!0))})).catch((function(e){console.log("BAD TOKEN"),g(!1)}))}),[]),i?(console.log("SENDING GOOD TOKEN PAGE"),r.a.createElement(r.a.Fragment,null,r.a.createElement(I,null),r.a.createElement(u.a,{className:v.paperContent},r.a.createElement("form",{className:v.root},r.a.createElement(d.a,{container:!0,justify:"center"},r.a.createElement(p.a,{variant:"h2",color:"primary",className:v.extraItemsForm},"Create New Password")),r.a.createElement(d.a,{container:!0,justify:"center"},r.a.createElement(E.a,{variant:"outlined",label:"New Password",name:"password",type:"password",value:t.password,onChange:o,className:v.textFieldForm}),r.a.createElement(E.a,{variant:"outlined",label:"Confirm Password",name:"confirmPassword",type:"password",value:t.confirmPassword,onChange:o,className:v.textFieldForm})),r.a.createElement(d.a,{container:!0,justify:"center"},r.a.createElement(f.a,{variant:"contained",size:"large",color:"primary",onClick:function(a){a.preventDefault(),t.password===t.confirmPassword?m.a.post("/updatePassword",{token:e.match.params.token,password:t.password}):alert("Passwords are not the same!")},className:v.extraItemsForm},"Submit")))))):(console.log("SENDING BAD TOKEN PAGE"),r.a.createElement(r.a.Fragment,null,r.a.createElement(I,null),r.a.createElement(u.a,{className:v.paperContent},r.a.createElement("h1",null,"INVALID TOKEN."))))}var G=t(72),R=t(73),W=t(78),z=t(77),V=(t(117),t(74)),M=t.n(V),q=function(e){Object(W.a)(t,e);var a=Object(z.a)(t);function t(){var e;return Object(G.a)(this,t),(e=a.call(this)).state={duoAuthState:"STATE_AUTH_PENDING"},e}return Object(R.a)(t,[{key:"componentDidMount",value:function(){m.a.get("/duo_frame").then((function(e){return e.data})).then(this.initDuoFrame.bind(this))}},{key:"initDuoFrame",value:function(e){M.a.init({iframe:"duo-frame",host:e.host,sig_request:e.sigRequest,submit_callback:this.submitPostAction.bind(this)})}},{key:"submitPostAction",value:function(e){var a=this,t={signedResponse:e.sig_response.value};m.a.post("/duo_login",t).then((function(e){200===e.status?a.setState({duoAuthState:"STATE_AUTH_PASSED"}):a.setState({duoAuthState:"STATE_AUTH_FAILED"})})).catch((function(e){console.log(e)}))}},{key:"render",value:function(){var e;switch(this.state.duoAuthState){case"STATE_AUTH_PASSED":e=r.a.createElement("h3",null,"Successfully passed Duo Authentication!");break;case"STATE_AUTH_FAILED":e=r.a.createElement("h3",null,"Failed Duo Authentication.");break;default:e=r.a.createElement("iframe",{width:"1280",height:"720",id:"duo-frame"})}return r.a.createElement("div",{className:"app"},e)}}]),t}(n.Component);function J(){var e=Object(n.useState)("Page not found."),a=Object(N.a)(e,2),t=a[0],o=a[1];return Object(n.useEffect)((function(){m.a.get("/dashboard").then((function(e){return e.data})).then((function(e){o("Access granted!")}))}),[t]),r.a.createElement(r.a.Fragment,null,r.a.createElement(u.a,null,r.a.createElement("div",null,r.a.createElement("h1",null,t))))}var Q=t(75),X=t(158),Y=Object(Q.a)({palette:{primary:{main:"#2E4057"},secondary:{main:"#ffffff"}}});var Z=function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(X.a,{theme:Y},r.a.createElement(c.a,null,r.a.createElement(s.c,null,r.a.createElement(s.a,{path:"/",exact:!0,component:x}),r.a.createElement(s.a,{path:"/login",exact:!0,component:x}),r.a.createElement(s.a,{path:"/registration",component:K}),r.a.createElement(s.a,{path:"/forgotpassword",component:H}),r.a.createElement(s.a,{path:"/resetpassword/:token",component:B}),r.a.createElement(s.a,{path:"/dashboard",component:J}),r.a.createElement(s.a,{path:"/duologin",component:q})))))};l.a.render(r.a.createElement(Z,null),document.getElementById("root"))},86:function(e,a,t){e.exports=t(118)}},[[86,1,2]]]);
//# sourceMappingURL=main.c6185593.chunk.js.map